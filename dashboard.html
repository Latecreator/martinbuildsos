<!DOCTYPE html>
<html>
<head>
    <style>
        body { 
            background: transparent; 
            color: white; 
            font-family: sans-serif; 
            padding: 40px;
        }
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
        .stat-card { 
            background: rgba(255,255,255,0.05); 
            padding: 20px; 
            border-radius: 12px; 
            border: 1px solid rgba(255,255,255,0.1);
        }
        h1 { color: #3b82f6; }
        .stat-number { font-size: 2rem; margin: 0; font-weight: bold; }
    </style>
</head>
<body>
    <h1>MARTINBUILDS OS v1.0</h1>
    <p>System Online. Welcome back, Creator.</p>
    
    <div class="stats-grid">
        <div class="stat-card">
            <h3>Active Tools</h3>
            <p id="tool-count" class="stat-number">...</p>
        </div>
        <div class="stat-card">
            <h3>Revenue Goal</h3>
            <p class="stat-number">$5,000 / mo</p>
        </div>
    </div>

    <script>
        // CONFIG (Ensure this matches your index.html settings)
        const GITHUB_CONFIG = {
            username: 'Latecreator', 
            repo: 'martinbuildsos',
            folder: 'tools'
        };

        async function updateDashboardStats() {
            try {
                const response = await fetch(`https://api.github.com/repos/${GITHUB_CONFIG.username}/${GITHUB_CONFIG.repo}/contents/${GITHUB_CONFIG.folder}`);
                const files = await response.json();
                
                if (Array.isArray(files)) {
                    // This is the MAGIC LINE: it filters for only .html files
                    const activeTools = files.filter(file => file.name.endsWith('.html')).length;
                    
                    // Update the number on the screen
                    document.getElementById('tool-count').innerText = activeTools;
                }
            } catch (err) {
                console.error("Dashboard sync error:", err);
                document.getElementById('tool-count').innerText = "!";
            }
        }

        // Run the count when the dashboard loads
        updateDashboardStats();
    </script>
</body>
</html>
